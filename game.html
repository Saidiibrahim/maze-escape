<!DOCTYPE html>
<!-- HTML entry point for the Three.js FPS Game -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maze Escape</title>
  <!-- Inline CSS for layout and instruction display -->
  <style>
    body { margin: 0; overflow: hidden; }
    /* Full-screen start/game over overlay */
    #instructions {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      user-select: none;
      z-index: 2;
    }
    #instructions h1 {
      color: #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 48px;
      margin: 0 0 20px;
      text-shadow: 0 0 10px #00ff00;
    }
    #instructions p {
      color: #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 24px;
      margin: 5px 0;
    }
    /* Score display in the top-left corner */
    #score {
      position: absolute;
      top: 10px;
      left: 10px;
      color: #fff;
      font-family: Arial, sans-serif;
      font-size: 18px;
      z-index: 1;
    }
    /* Health bar below score */
    #health {
      position: absolute;
      top: 40px;
      left: 10px;
      width: 200px;
      height: 20px;
      border: 2px solid #fff;
      background: linear-gradient(to right, #0f0 100%, #400 100%);
      z-index: 1;
      transition: background 0.1s ease-out;
    }
    /* Simple crosshair centered on screen */
    #crosshair {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin-left: -10px;
      margin-top: -10px;
      border: 1px solid #fff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 1;
    }
    #instructions ul{ list-style:none; padding:0; text-align:center;}
    #instructions li{ color:#0f0; font:20px 'Courier New',monospace;}
    #instructions.fade{ animation: fade 0.8s forwards;}
    @keyframes fade{ from{opacity:1;} to{opacity:0;} }
  </style>
  <!-- Import map to resolve module paths for three.js -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.152.2/examples/jsm/",
      "three/controls/PointerLockControls.js": "https://unpkg.com/three@0.152.2/examples/jsm/controls/PointerLockControls.js",
      "three/loaders/GLTFLoader.js": "https://unpkg.com/three@0.152.2/examples/jsm/loaders/GLTFLoader.js"
    }
  }
  </script>
</head>
<body>
  <!-- Instruction overlay shown before the game starts -->
  <div id="instructions">
    <h1>Maze Escape</h1>
    <ul>
      <li>WASD = move</li><li>Mouse = look</li><li>Click = shoot</li>
    </ul>
    <p>Click anywhere to start</p>
  </div>
  <!-- HUD elements: score, health and crosshair -->
  <div id="score">Score: 0</div>
  <div id="health"></div>
  <div id="crosshair"></div>

  <!-- Audio elements -->
  <audio id="sfxShoot" src="audio/shoot.mp3" preload="auto"></audio>
  <audio id="sfxFootsteps" src="audio/footsteps.wav" preload="auto" loop></audio>
  <audio id="sfxHeavyFootsteps" src="audio/heavy_footsteps.wav" preload="auto"></audio>
  <audio id="sfxEnemyMove" src="audio/enemy_move.mp3" preload="auto" loop></audio>
  <audio id="bgm" src="audio/background.mp3" loop></audio>

  <!-- Main game script module -->
  <script type="module" src="main.js"></script>
</body>
</html> 